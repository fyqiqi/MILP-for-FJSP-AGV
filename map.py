import numpy as np


def read_and_convert_txt(file_path):
    # Step 1: 读取TXT文件
    with open(file_path, 'r') as file:
        lines = file.readlines()

    # Step 2: 解析数据
    data = []
    for line in lines:
        row = list(map(int, line.strip().split()))
        data.append(row)

    # Step 3: 转换格式
    n = len(data)
    tt = []
    for i in range(n):
        new_row = []
        for j in range(n):
            new_row.append(data[i][j])
            new_row.append(data[j][i])
        tt.append(new_row)

    return tt



def get_travel_time():

    # # # 设置随机数种子
    # np.random.seed(42)
    # # #fixme 随机地图对结果是否存在影响
    # tt = np.random.uniform(low=2, high=8, size=(15, 15))
    # # 对随机数保留一位小数
    # tt = np.round(tt, decimals=1)
    # # 将对角线元素置为0
    # np.fill_diagonal(tt, 0)
    tt=[[0, 7, 6, 5, 4, 4, 3, 6, 5, 6, 3, 7, ],
     [6, 0, 4, 4, 4, 5, 5, 4, 5, 4, 4, 4,],
     [5, 6, 0, 5, 5, 3, 5, 4, 3, 7, 7, 6,],
     [4, 3, 6, 0, 3, 5, 3, 7, 4, 6, 4, 5,],
     [5, 4, 7, 6, 0, 7, 5, 7, 3, 4, 3, 4,],
     [5, 4, 6, 4, 4, 0, 4, 6, 3, 7, 6, 4,],
     [3, 6, 6, 6, 6, 3, 0, 3, 6, 5, 4, 3,],
     [4, 4, 6, 6, 7, 5, 3, 0, 6, 5, 6, 5,],
     [5, 5, 3, 3, 3, 6, 4, 5, 0, 4, 5, 6,],
     [4, 3, 4, 4, 7, 6, 6, 6, 6, 0, 7, 5,],
     [6, 7, 4, 3, 4, 5, 6, 6, 3, 5, 0, 4,],
     [3, 4, 7, 4, 5, 6, 4, 7, 7, 4, 5, 0,]]
    # np.save('travel_time.npy', tt)
    # tt = [[0, 12, 9, 8, 4, 4, 3, 11, 8, 9, 2, 12, ],
    #       [10, 0, 4, 4, 5, 7, 6, 5, 8, 3, 5, 6, ],
    #       [7, 10, 0, 7, 8, 2, 8, 4, 3, 11, 12, 10, ],
    #       [5, 3, 9, 0, 3, 7, 2, 11, 5, 9, 5, 7, ],
    #       [7, 4, 12, 10, 0, 11, 8, 11, 3, 4, 2, 5, ],
    #       [6, 5, 10, 6, 5, 0, 3, 10, 3, 12, 10, 4, ],
    #       [2, 10, 9, 9, 10, 3, 0, 3, 11, 8, 5, 3, ],
    #       [5, 5, 9, 8, 11, 7, 3, 0, 10, 8, 10, 7, ],
    #       [7, 6, 2, 3, 2, 8, 5, 7, 0, 4, 6, 10, ],
    #       [4, 3, 5, 4, 11, 10, 8, 11, 10, 0, 11, 7, ],
    #       [10, 11, 5, 3, 4, 6, 10, 11, 2, 7, 0, 4, ],
    #       [3, 5, 11, 5, 7, 9, 6, 12, 12, 5, 7, 0, ]]
    tt = [
        [0, 6, 8, 6, 8, 10, 12, 10, 12],  # 仓库到所有节点的运输时间
        [8, 0, 2, 8, 2, 4, 6, 4, 6],  # 节点1到所有节点的运输时间
        [6, 10, 0, 10, 8, 2, 4, 6, 4],  # 节点2到所有节点的运输时间
        [12, 4, 6, 0, 6, 8, 10, 8, 10],  # 节点3到所有节点的运输时间
        [10, 2, 4, 6, 0, 6, 8, 2, 8],  # 节点4到所有节点的运输时间
        [8, 8, 2, 8, 6, 0, 6, 4, 2],  # 节点5到所有节点的运输时间
        [6, 10, 8, 10, 8, 6, 0, 6, 4],  # 节点6到所有节点的运输时间
        [12, 4, 6, 4, 2, 8, 10, 0, 10],  # 节点7到所有节点的运输时间
        [10, 6, 4, 6, 4, 2, 8, 2, 0]  # 节点8到所有节点的运输时间
    ]
#     tt= [
#     [0, 6, 8, 10, 12],
#     [12, 0, 6, 8, 10],
#     [10, 6, 0, 6, 8],
#     [8, 8, 6, 0, 6],
#     [6, 10, 8, 6, 0]
# ]
#     tt=[
#     [0, 4, 6, 8, 6],
#     [6, 0, 2, 4, 2],
#     [8, 12, 0, 2, 4],
#     [6, 10, 12, 0, 2],
#     [4, 8, 10, 12, 0]
# ]
#     tt=[
#         [0, 2, 4, 10, 12],
#         [12, 0, 2, 8, 10],
#         [10, 12, 0, 6, 8],
#         [4, 6, 8, 0, 2],
#         [2, 4, 6, 12, 0]
#     ]
#     tt = [
#     [0, 4, 8, 10, 14],
#     [18, 0, 4, 6, 10],
#     [20, 14, 0, 8, 6],
#     [12, 8, 6, 0, 6],
#     [14, 14, 12, 6, 0]
# ]
    # tt = [
    #     [0, 10, 12, 16, 24, 30, 24, 20, 14, 8, 6],
    #     [10, 0, 4, 14, 20, 24, 28, 22, 16, 10, 4],
    #     [12, 4, 0, 4, 14, 20, 22, 16, 10, 6, 8],
    #     [20, 14, 4, 0, 4, 14, 16, 10, 4, 10, 16],
    #     [24, 10, 14, 4, 0, 4, 10, 4, 10, 16, 22],
    #     [30, 26, 20, 14, 4, 0, 4, 10, 16, 22, 28],
    #     [26, 28, 22, 16, 10, 4, 0, 4, 14, 20, 26],
    #     [20, 22, 16, 10, 4, 10, 4, 0, 4, 14, 20],
    #     [12, 22, 16, 10, 4, 10, 14, 4, 0, 4, 14],
    #     [6, 10, 4, 10, 16, 22, 20, 14, 4, 0, 4],
    #     [2, 4, 10, 16, 22, 28, 26, 20, 14, 4, 0]
    # ]
    # tt = np.zeros((15,15))
    tt = np.array(tt)
    return tt